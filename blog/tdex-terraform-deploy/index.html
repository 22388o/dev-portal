<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="TDEX Network Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="TDEX Network Blog Atom Feed"><title data-react-helmet="true">Deploy a TDEX Daemon to AWS with Terraform | TDEX Network</title><meta data-react-helmet="true" property="og:title" content="Deploy a TDEX Daemon to AWS with Terraform | TDEX Network"><meta data-react-helmet="true" name="description" content="Configure and run TDex box easily using Terraform automation."><meta data-react-helmet="true" property="og:description" content="Configure and run TDex box easily using Terraform automation."><meta data-react-helmet="true" property="og:url" content="https://dev.tdex.network/blog/tdex-terraform-deploy"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://dev.tdex.network/blog/tdex-terraform-deploy"><link data-react-helmet="true" rel="alternate" href="https://dev.tdex.network/blog/tdex-terraform-deploy" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dev.tdex.network/blog/tdex-terraform-deploy" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.24f0c7e7.css">
<link rel="preload" href="/assets/js/runtime~main.68e67310.js" as="script">
<link rel="preload" href="/assets/js/main.4b0f982f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/tdex-logo.png" alt="TDEX logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/tdex-logo.png" alt="TDEX logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Developer Portal</b></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tdex-network" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/tdex-terraform-deploy">Deploy a TDEX Daemon to AWS with Terraform</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="blogPostTitle_GeHD">Deploy a TDEX Daemon to AWS with Terraform</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-09-01T00:00:00.000Z">September 1, 2021</time> Â· 2 min read</div><div class="avatar margin-vert--md"><div class="avatar__intro"><div class="avatar__name"><a>Alexander K</a></div><small class="avatar__subtitle">TDEX Contributor</small></div></div></header><div class="markdown"><p>Configure and run TDex box easily using Terraform automation. </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-user-and-obtain-aws-keys"></a>Create user and obtain AWS Keys<a class="hash-link" href="#create-user-and-obtain-aws-keys" title="Direct link to heading">#</a></h3><p>As a first step it is required to obtain AWS access and secret keys. Best practice is to create new user in AWS IAM.
Please navigate to Services &gt; IAM page &gt; Add user.
Proceed with opening AWS IAM users page, and click on Add user. Provide user with name, and below, for the Access type select Programmatic access. <img alt="Add User" src="/assets/images/add-user-11d882df7faae15f701edb54ee2ab67c.png">
Next, make sure that your AWS account(access key) has all required privileges to create EC2 instances and S3 access.
Permissions you need (EC2 full, S3 full, VPC access)
<img alt="Attach permissions" src="/assets/images/attach-perms-617d07e15336bce352380e648778a124.png"></p><p>Once you add Permissions and Tags, click Create user. That will bring you to latest page provided with AWS Access and Secret Keys.
Copy your keys to safe place and do not share it with anyone.
<img alt="Attach permissions" src="/assets/images/user-keys-bf94f5fd19fa23443ecccf24126a65b9.png"></p><p>Check the documentation <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html" target="_blank" rel="noopener noreferrer">here</a></p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-terraform"></a>Install Terraform<a class="hash-link" href="#install-terraform" title="Direct link to heading">#</a></h3><p>Next step is to install Terraform on your machine.
The easiest way is to follow its documentation <a href="https://www.terraform.io/docs/cli/install/apt.html" target="_blank" rel="noopener noreferrer">here</a> \
Or follow this installation for APT Packages for Debian and Ubuntu</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ curl -fsSL https://apt.releases.hashicorp.com/gpg | sudo apt-key add -</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo apt-add-repository &quot;deb [arch=$(dpkg --print-architecture)] https://apt.releases.hashicorp.com $(lsb_release -cs) main&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ sudo apt install terraform</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="proceed-with-cloning-and-deploy"></a>Proceed with cloning and deploy<a class="hash-link" href="#proceed-with-cloning-and-deploy" title="Direct link to heading">#</a></h3><p>Clone the TDex Box repository and enter its directory. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone https://github.com/tdex-network/tdex-box.git</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">cd tdex-box</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><p>On the AWS AMI Marketplace, find Ubuntu 20.04 public AMI, accessible in the region you are planing to deploy service and copy it&#x27;s AMI ID. </p><p>Once you have everything in place, just execute deploy.sh and it will prompt you for all the parameters in order provided above.
Please enter parameters carefully. </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ cd terabox/</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ chmod +x deploy.sh</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ ./deploy.sh</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="Deploy" src="/assets/images/deploy-3bf69430842f2fe5c689a7f8fe254acd.png"></p><p>Since it is good practice to have backup enabled, please provide S3 bucket name when deploying.</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/blog/tags/terraform">terraform</a><a class="margin-horiz--sm" href="/blog/tags/automation">automation</a><a class="margin-horiz--sm" href="/blog/tags/tdex">tdex</a><a class="margin-horiz--sm" href="/blog/tags/deploy">deploy</a></div><div class="col margin-top--sm"><a href="https://github.com/tdex-network/dev-portal/edit/master/blog/blog/2021-09-01-tdex-terraform-automation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-user-and-obtain-aws-keys" class="table-of-contents__link">Create user and obtain AWS Keys</a></li><li><a href="#install-terraform" class="table-of-contents__link">Install Terraform</a></li><li><a href="#proceed-with-cloning-and-deploy" class="table-of-contents__link">Proceed with cloning and deploy</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/trader/intro">Trader</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/provider/intro">Liquidity Provider</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/tdexnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/tdex-network" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 TDEX Network. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.68e67310.js"></script>
<script src="/assets/js/main.4b0f982f.js"></script>
</body>
</html>