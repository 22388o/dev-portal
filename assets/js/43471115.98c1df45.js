"use strict";(self.webpackChunkdev_portal=self.webpackChunkdev_portal||[]).push([[8484],{3905:function(e,t,r){r.d(t,{Zo:function(){return d},kt:function(){return u}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),f=l(r),u=o,m=f["".concat(s,".").concat(u)]||f[u]||p[u]||i;return r?n.createElement(m,a(a({ref:t},d),{},{components:r})):n.createElement(m,a({ref:t},d))}));function u(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=f;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var l=2;l<i;l++)a[l]=r[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},9491:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return d},default:function(){return f}});var n=r(7462),o=r(3366),i=(r(7294),r(3905)),a=["components"],c={title:"Overview",sidebar_position:1},s=void 0,l={unversionedId:"provider/feeder/overview",id:"provider/feeder/overview",isDocsHomePage:!1,title:"Overview",description:"TDEX Feeder is a service useful to feed one or more markets of one or more daemons with prices sourced from an exchange.",source:"@site/docs/provider/feeder/overview.md",sourceDirName:"provider/feeder",slug:"/provider/feeder/overview",permalink:"/docs/provider/feeder/overview",editUrl:"https://github.com/tdex-network/dev-portal/edit/master/docs/provider/feeder/overview.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Overview",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Unlocker",permalink:"/docs/provider/unlocker"},next:{title:"Getting Started",permalink:"/docs/provider/feeder/getting_started"}},d=[{value:"Configuration",id:"configuration",children:[{value:"JSON file",id:"json-file",children:[]},{value:"Environment variables",id:"environment-variables",children:[]}]},{value:"What&#39;s next?",id:"whats-next",children:[]}],p={toc:d};function f(e){var t=e.components,r=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/tdex-network/tdex-feeder"},"TDEX Feeder")," is a service useful to feed one or more markets of one or more daemons with prices sourced from an exchange."),(0,i.kt)("p",null,"The prices are fed to the daemon by consuming its ",(0,i.kt)("inlineCode",{parentName:"p"},"UpdateMarketPrice")," RPC of the Operator interface.",(0,i.kt)("br",{parentName:"p"}),"\n","The daemon, therefore, requires to be fully initialized and synced in order to receive and store incoming prices.",(0,i.kt)("br",{parentName:"p"}),"\n","On the other side, the feeder must have the proper macaroon and TLS certificate to establish a secure connection with the Operator interface in case it has macaroon/TLS enabled."),(0,i.kt)("h2",{id:"configuration"},"Configuration"),(0,i.kt)("h3",{id:"json-file"},"JSON file"),(0,i.kt)("p",null,"The Feeder is configured with a JSON file like the following:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "price_feeder": "kraken",\n  "interval": 300000,\n  "markets": [\n    {\n      "base_asset": "6f0279e9ed041c3d710a9f57d0c02928416460c4b722ae3457a11eec381c526d",\n      "quote_asset": "ce091c998b83c78bb71a632313ba3760f1763d9cfcffae02258ffa9865a37bd2",\n      "ticker": "XBT/USDT",\n      "targets": [\n        {\n          "macaroons_path": "",\n          "tls_cert_path": "",\n          "rpc_address": "localhost:9000"\n        }\n      ]\n    }\n  ]\n}\n')),(0,i.kt)("p",null,"In this example, the service is configured to connect to Kraken exchange.",(0,i.kt)("br",{parentName:"p"}),"\n","It must forward incoming feeds related to the BTC/USDt market every 5 minutes (",(0,i.kt)("em",{parentName:"p"},"interval")," time expressed in milliseconds) to a daemon that can be reached at the address ",(0,i.kt)("inlineCode",{parentName:"p"},"localhost:9000")," via insecure connection (configured with macaroons auth/TLS encryption disabled). Take a look ",(0,i.kt)("a",{parentName:"p",href:"/docs/provider/feeder/getting_started#securely-connect-feeder-to-daemon"},"here")," to see how to connect them via a secure connection"),(0,i.kt)("p",null,"Note that ",(0,i.kt)("inlineCode",{parentName:"p"},"targets")," is defined as a JSON list in order to let the feeder forward incoming price feeds of a single market to multiple daemons if needed."),(0,i.kt)("p",null,"Similarly, ",(0,i.kt)("inlineCode",{parentName:"p"},"markets")," is also a JSON list therefore it's possible to configure the feeder to ask for feeds related to multiple markets. Each market has its own targets that will be updated periodically."),(0,i.kt)("p",null,"The latest version of this tool (v0.2.1 at the time of writing) supports only Kraken as price feeder."),(0,i.kt)("h3",{id:"environment-variables"},"Environment variables"),(0,i.kt)("p",null,"The feeder supports 2 optional configuration arguments that can be modified via environment variables:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"FEEDER_CONFIG_PATH")," to change the path where to find the JSON file (defaults to ",(0,i.kt)("inlineCode",{parentName:"li"},"./config.json"),").",(0,i.kt)("br",{parentName:"li"}),"In this case, it's required to define the path, included the name of the JSON file itself - it can be different from the default one."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"FEEDER_LOG_LEVEL")," to increase or decrease the verbosity of the service during its lifetime.")),(0,i.kt)("h2",{id:"whats-next"},"What's next?"),(0,i.kt)("p",null,"Now that you have completed the configuration, it's time to ",(0,i.kt)("a",{parentName:"p",href:"/docs/provider/feeder/getting_started"},"start your feeder"),"."))}f.isMDXComponent=!0}}]);